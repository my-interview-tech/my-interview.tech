---
title: Как стилизовать дочерние элементы внутри компонента (CSS-in-JS, Styled Components, CSS-модули, SCSS)?
draft: false
tags:
  - UIKit
  - CSS
  - var
info:
---
**Решение 1**

Первое, что приходит в голову, — это добавить атрибут для компонента, например, color.

```jsx
<Switcher color="#334453" />
```

Этот способ соответствует требованиям выше: компонент можно стилизовать, и он остается инкапсулированным. Но если абстрагироваться и представить что-то посложнее, то парой атрибутов не обойтись.

По мере необходимости что-то менять количество таких атрибутов может вырасти, что усложнит сам компонент. Кроме того, это нарушает современные принципы HTML, ведь таблицы стилей как раз были придуманы для того, чтобы разделить разметку и внешний вид. Подход выше отправляет нас во времена HTML 3.

Записываем это как требование к компоненту «**Не использовать стилизующие атрибуты**».

**Решение 2**

Из легальных способов остается `className` и `style`.

Значение атрибута `style` логичнее будет применить к корневому компоненту, как и `className`, так как нужно как минимум управлять внешними отступами, позиционированием и поэтому для стилизации других элементов мы эти атрибуты не используем.

В таком случае классифицируем стиль по назначению, например, так:

```jsx
<Switcher markerStyle={{backgroundColor: '#334453'}} />
```

Этот способ позволяет стилизовать элементы без каких-либо ограничений, однако нарушается инкапсуляция. Да, в явном виде разработчику не нужно заглядывать в сам компонент, чтобы посмотреть, к чему он еще может применить стили, но вся структура раскрывается в названиях стилей. Также количество таких атрибутов будет расти с количеством дочерних элементов.

Еще стоит понимать, что атрибут style имеет максимальный приоритет для применения стилей, поэтому контролировать порядок переопределения уже будет проблематично.

Записываем и этот способ как не подходящий.

**Решение 3**

Остается только способ с className, для которого можно воспользоваться вариантом от style, переняв все те же проблемы. Либо при добавлении стилей пользоваться составными селекторами.

```jsx
<!-- usage -->

<Switcher className="some_class">
	<!-- output -->
	<label className="switcher some_class">...</label>
```

```css
.some_class .switcher__marker {...}

/* или */

.some_class > .switcher__marker {...}
```

Таким образом, весь список классов нужно вынести в документацию к компоненту, и опять же подобный подход рушит всю **инкапсуляцию компонента**. В том числе становится бесполезным, если начать использовать CSS Modules или CSS In JS.

**Решение 4**

Использование провайдера. Этот способ в принципе соответствует требованиям, однако тащит дополнительные реализации. Применение компонентов идет всегда с оберткой, что усложняет родительский компонент. Плюс мы имеем два способа стилизации, один через JS, один через CSS, что тоже не очень хорошо. Пометили как неподходящий.

**Почему полная стилизация дочернего элемента — это плохая практика?**

Прямой доступ к стилям дочернего компонента тоже не всегда хорошо,  
реализация структуры компонента разнообразная, внешний вид может зависеть от многих свойств, изменение которых приведет к нарушению работы компонента. Например, это могут быть или анимации, или вычисленные размеры, или использование свойств display.

По нашей задумке, компонент должен быть стилизуем как обычный HTML-тег, а применение свойств, которые могут разрушить внешний вид, не должно оказывать эффекта.

**И вот тут мы обратили внимание на кастомные свойства**. Не то чтобы мы о них никогда не слышали, просто по неведомым причинам называли их CSS-переменными и пользовались ими как переменными из препроцессоров.

**Что такое кастомные свойства?**

Кастомные свойства — это CSS-свойства, которых нет в основной спецификации. Их определяет сам разработчик. В дальнейшем значения этих свойств можно применить к стандартным CSS-свойствам.

Синтаксис

```CSS
/* Объявление */

	--some-property-name: some-property-value;/* Использование */
	
	margin: var(--some-property-name);
```

Для того чтобы воспользоваться значением свойства, используется CSS-функция var.

___

[[310 UI Kit|Назад]]
