---
title: Какие существуют способы подключения UI Kit к проекту?
draft: false
tags:
  - git
  - HTTPS
  - package-registry
  - npm-link
  - yarn-link
  - CI/CD
  - UIKit
info:
---
Теперь давайте разберем, как эти подходы будут выглядеть с точки зрения кода. Примеры будем приводить на базе React/Next приложения.

Начнем с того, что рассмотрим варианты, как их вообще подключают к проекту. Существует несколько способов:

- **git + https** — достаточно простой вариант подключения библиотеки как зависимости. В этом случае ориентир по умолчанию будет на последний коммит в ветке в вашем репозитории. Из минусов: необходимо будет каждый раз устанавливать библиотеку, так как коммит фиксируется в Lock-файле и вы всегда будете получать одну и ту же версию библиотеки. Ну и про полный Push сборки тоже нельзя забывать. В таком случае мы не можем игнорировать папку Dist со сборкой.
  
- **package registry** — с нашей точки зрения, более верный и привычный подход. Данную манипуляцию можно сделать в рамках вашего Git-репозитория через настройку CI/CD, информацию о котором можно легко найти в документации. [Вот как, например, это можно сделать в GitLab.](https://docs.gitlab.com/ee/user/packages/package_registry/) Но тут встает вопрос, хотите ли вы разобраться сами или у вас есть свободный девопс, который с этим поможет.

- **npm/yarn link** — совсем костыльный метод, но он работает и позволяет локально прилинковать ваш пакет как зависимость к проекту, что позволит пользоваться им без публикации.

При использовании Headless UI, Styled Components или при импорте модульных стилей в файл компонента всё просто. Мы импортируем компонент и сразу можем его использовать. Во всех случаях предусматриваем возможность передачи класса для кастомизации стилей извне.

```jsx
import { Button, Typography } from "@frontend/ui-kit";
```

Одним из ограничений при использовании стилей в качестве зависимости компонента может стать ваш фреймворк. Например, NextJS запрещает такой подход. [Больше об этом можно прочитать в документации.](https://nextjs.org/docs/messages/css-npm)

При использовании полноценной библиотеки компонентов у нас появляется два разных пути:

1. Импорт всех стилей в приложение одним файлом. И далее — использование компонентов в необходимых местах. Тут всё зависит от вашего фреймворка. В NextJS App Router нужно импортировать стили в корневом файле приложения. В нашем случае это **_app.tsx**, который лежит по пути **./src/pages**, одной строкой:

```jsx
import "@frontend/ui-kit/dist/style.css";
```

А далее, как и в предыдущем примере, можем в необходимых местах использовать схожий импорт:

```jsx
import { Button, Typography } from "@frontend/ui-kit";
```

Если у вас SPA, это наиболее простой и, скорее всего, правильный подход для использования компонентов.

2. Использование SSR/SSG, когда нам не нужен весь бандл стилей. Всё тоже просто, но уже не так удобно. Первое, что необходимо сделать, это написать/найти и подключить плагин, который позволяет отделить стили от компонента без их внедрения как зависимости. Далее посмотрим, как это будет использоваться в коде. Скажу сразу, что для импорта компонентов ничего не меняется. Всё остается одной строкой:

```jsx
import { Button, Typography } from "@frontend/ui-kit";
```

Теперь посмотрим, как подключаются стили:

```jsx
import "@frontend/ui-kit/dist/Button/Button.css";
import "@frontend/ui-kit/dist/Typography/Typography.css";
```

Тут всё терпимо, но не так удобно, как с общим бандлом. Особенно, если учесть, что это необходимо сделать для каждого компонента, а их количество может быть очень большим. Зато экономим на размере бандла, который получит конечный пользователь приложения.

___

[[310 UI Kit|Назад]]
