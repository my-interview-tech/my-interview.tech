---
title: API7-2019 Security Misconfiguration
draft: true
tags:
  - infosec
  - OWASP
info:
---

**API7:2019** **Security** **Misconfiguration** (Ошибки настроек безопасности) «_Некорректная настройка параметров безопасности обычно является результатом использования конфигураций по умолчанию, неполных или специальных конфигураций, открытого облачного хранилища, неправильно настроенных HTTP-заголовков, ненужных методов HTTP, разрешенного совместного использования ресурсов между источниками (CORS) и излишне подробных сообщений об ошибках, содержащих конфиденциальную информацию_».

Следующие действия могут привести к проблемам с безопасностью, соответственно, их необходимо избегать:

- В публичные репозитории попала информация ограниченного доступа, например, конфигурация системы или параметры доступа.

- Должные настройки безопасности отсутствуют на каком-либо уровне приложения, а также если права доступа к облачным сервисам некорректно настроены.

- Используется устаревшая система, или не установлены исправления по безопасности.

- Неправильно используются регулярные выражения, что позволяет провести атаку ReDoS (Regular expression Denial of Service)

- Аутентификационные данные (логин/пароль, токен, API Key) передаются в URL. Это небезопасно, т.к. URL остаются в логах веб-серверов.

- При эксплуатации промышленной системы используются настройки, предназначенные для разработки и отладки.

- Сообщения об ошибках содержат чувствительную информацию, например, трейсы стека.

Как предотвратить:

Жизненный цикл API должен включать в себя:

- Повторяемый процесс усиления настроек безопасности, ведущий к более быстрому и простому развертыванию должным образом защищенного окружения.

- Задачу по обзору и обновлению конфигурации на всех уровнях API. Обзор должен включать в себя файлы оркестрации, компоненты API и облачных сервисов (например, права доступа в S3 bucket). Необходимо уделять внимание конфигурации облачных сервисов:

- Для пользователей устанавливать минимально необходимые права доступа.

- Открывать только необходимые сетевые порты.

- Устанавливать актуальные и проверенные версии исправлений ОС и приложений. Компоненты, (библиотеки и framework’и) выполняются с теми же привилегиями, что и приложение, поэтому если среди используемых библиотек окажется небезопасный компонент, то это может привести к взлому или выводу из строя сервера.

- Защищенный канал для доступа к ресурсам.

- Автоматизированный процесс, проводящий постоянную оценку эффективности настроек и параметров во всех окружениях.

- Для предотвращения отправки злоумышленникам подробных сообщений об ошибках и другой критичной информации, если это возможно, определите схемы данных всех ответов API и обеспечьте проверку этих ответов по схемам, включая сообщения об ошибках.

- Убедитесь, что API доступно только с использованием заданного списка HTTP методов. Любые другие методы HTTP должны быть отключены (например, HEAD).

- API, клиентами которых подразумеваются браузерные клиентские приложения, должны иметь корректно настроенную политику разделения ресурсов между источниками (Cross-Origin Resource Sharing).

___
