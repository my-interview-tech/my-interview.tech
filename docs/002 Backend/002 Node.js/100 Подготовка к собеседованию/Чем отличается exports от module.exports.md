---
title: Чем отличается exports от module.exports
draft: true
tags: NodeJS
info:
---
В **Node.js** `exports` и `module.exports` оба используются для экспорта функциональности из модуля, но между ними есть важные различия, которые влияют на то, как они работают. Вот основные моменты:

### 1. **Ссылка на один и тот же объект**

- Когда вы пишете `exports = ...`, это не работает так, как ожидается. Вместо этого создается новая ссылка на объект, и изменения на `exports` не повлияют на `module.exports`. Однако изначально `exports` и `module.exports` ссылаются на один и тот же объект, и можно использовать любой из этих вариантов для добавления свойств в экспортируемый объект.

**Пример:**

javascript

КопироватьРедактировать

`// Экспорт через module.exports module.exports.greet = function() {   console.log('Hello from module!'); };  // Экспорт через exports (который изначально ссылается на module.exports) exports.sayGoodbye = function() {   console.log('Goodbye!'); };`

### 2. **Разница при присваивании нового значения**

- **`module.exports`**: Вы можете присвоить новый объект или функцию непосредственно `module.exports`, чтобы экспортировать **единственное значение**, например, объект или функцию. Это предпочтительный способ, если вы хотите экспортировать один элемент.
    
- **`exports`**: Это объект, через который вы можете добавлять свойства или функции для экспорта. Однако если вы присваиваете `exports` новое значение, это **не будет влиять на `module.exports`**, так как `exports` и `module.exports` становятся независимыми после присваивания.
    

**Пример неправильного использования `exports`:**

javascript

КопироватьРедактировать

`exports = function() {  // Это не повлияет на module.exports   console.log('This will not work'); };`

В этом случае `exports` просто будет указывать на новую функцию, но `module.exports` не изменится, и, следовательно, ничего не будет экспортироваться. Это может привести к неожиданному поведению.

**Правильный пример с `module.exports`:**

javascript

КопироватьРедактировать

`module.exports = function() {   console.log('This works'); };`

### 3. **Что лучше использовать?**

- Если вы хотите экспортировать **один объект или функцию**, лучше использовать **`module.exports`**. Это поможет избежать путаницы.
- Если вам нужно экспортировать несколько элементов (например, функции или объекты), используйте **`exports`** для добавления свойств.

### Пример с использованием обоих:

javascript

КопироватьРедактировать

`// module1.js  // Экспорт через module.exports module.exports = function greet() {   console.log('Hello from the module!'); };  // Экспорт через exports (добавление свойств) exports.sayGoodbye = function() {   console.log('Goodbye!'); };`

### Резюме:

- **`module.exports`** — это основной способ экспорта значения. Присваивание нового значения `module.exports` определяет, что будет экспортироваться.
- **`exports`** — это просто ссылка на `module.exports`, и он удобен для добавления свойств или методов в экспортируемый объект. Но если вы хотите экспортировать **один объект или функцию**, лучше использовать `module.exports`.