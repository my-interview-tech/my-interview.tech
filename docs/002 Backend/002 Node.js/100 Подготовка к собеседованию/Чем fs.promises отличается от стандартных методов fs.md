---
title: –ß–µ–º fs.promises –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ fs
draft: false
tags:
  - "#NodeJS"
  - "#fs"
  - "#promises"
  - "#async-await"
  - "#—Ñ–∞–π–ª–æ–≤–∞—è-—Å–∏—Å—Ç–µ–º–∞"
  - "#–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å"
info:
  - "[–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ fs.promises –≤ Node.js](https://nodejs.org/api/fs.html#promises-api)"
  - "[–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–±–æ—Ç–µ —Å —Ñ–∞–π–ª–∞–º–∏ –≤ Node.js](https://nodejs.org/en/learn/manipulating-files/nodejs-file-stats)"
  - "[–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏](https://nodejs.org/api/fs.html#file-system)"
---

## üî• –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `fs.promises` –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ `fs`

–í `fs` –µ—Å—Ç—å **—Ç—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞** —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏:

1. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ (–∫–æ–ª–±—ç–∫–∏)** ‚Üí `fs.readFile('file.txt', (err, data) => {...})`
2. **–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ (`Sync`-–º–µ—Ç–æ–¥—ã)** ‚Üí `fs.readFileSync('file.txt')`
3. **–ü—Ä–æ–º–∏—Å—ã (`fs.promises`)** ‚Üí `await fs.promises.readFile('file.txt')`

---

### ‚úÖ `fs.promises` vs. —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `fs`

| –ü–æ–¥—Ö–æ–¥               | –û–ø–∏—Å–∞–Ω–∏–µ                     | –ö–æ–¥                                                |
| -------------------- | ---------------------------- | -------------------------------------------------- |
| üü¢ `fs.promises`     | ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π `async/await` | `await fs.promises.readFile(file, 'utf-8')`        |
| üü° –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `fs`  | ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **–∫–æ–ª–±—ç–∫–∏**    | `fs.readFile(file, 'utf-8', (err, data) => {...})` |
| üî¥ `fs.readFileSync` | ‚ùå **–ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫**       | `fs.readFileSync(file, 'utf-8')`                   |

---

## üìå –†–∞–∑–±–æ—Ä –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö

### ‚úÖ 1. `fs.promises` (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π `async/await`)

```javascript
const fs = require("fs/promises")

async function readFile() {
  try {
    const data = await fs.readFile("file.txt", "utf-8")
    console.log(data)
  } catch (err) {
    console.error("–û—à–∏–±–∫–∞:", err)
  }
}

readFile()
```

üîπ **–ü–ª—é—Å—ã:**  
‚úîÔ∏è –õ–∞–∫–æ–Ω–∏—á–Ω—ã–π –∫–æ–¥ –±–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∫–æ–ª–±—ç–∫–æ–≤  
‚úîÔ∏è –£–¥–æ–±–Ω–æ –¥–ª—è `async/await`

---

### üü° 2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π `fs.readFile()` (–∫–æ–ª–±—ç–∫–∏)

```javascript
const fs = require("fs")

fs.readFile("file.txt", "utf-8", (err, data) => {
  if (err) {
    console.error("–û—à–∏–±–∫–∞:", err)
    return
  }
  console.log(data)
})
```

üîπ **–ú–∏–Ω—É—Å—ã:**  
‚ùå –ö–æ–ª–±—ç–∫–∏ —Å–ª–æ–∂–Ω–µ–µ —á–∏—Ç–∞—Ç—å (callback hell)  
‚ùå –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `await` –Ω–∞–ø—Ä—è–º—É—é

---

### üî¥ 3. `fs.readFileSync()` (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π, –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫)

```javascript
const fs = require("fs")

try {
  const data = fs.readFileSync("file.txt", "utf-8")
  console.log(data)
} catch (err) {
  console.error("–û—à–∏–±–∫–∞:", err)
}
```

üîπ **–ú–∏–Ω—É—Å—ã:**  
‚ùå **–ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫** ‚Äî –ø–æ–∫–∞ —Ñ–∞–π–ª —á–∏—Ç–∞–µ—Ç—Å—è, –∫–æ–¥ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è  
‚ùå **–ü–ª–æ—Ö–æ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤** (–∑–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–æ–≤)

---

## üìù –ò—Ç–æ–≥:

| –°–ø–æ—Å–æ–±                  | `async/await` | –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫? | –£–¥–æ–±—Å—Ç–≤–æ   |
| ----------------------- | ------------- | ---------------- | ---------- |
| `fs.promises`           | ‚úÖ –î–∞         | ‚ùå –ù–µ—Ç           | üî• –û—Ç–ª–∏—á–Ω–æ |
| `fs.readFile` (–∫–æ–ª–±—ç–∫–∏) | ‚ùå –ù–µ—Ç        | ‚ùå –ù–µ—Ç           | üü° –°—Ä–µ–¥–Ω–µ  |
| `fs.readFileSync`       | ‚ùå –ù–µ—Ç        | ‚úÖ –î–∞            | üî¥ –ü–ª–æ—Ö–æ   |

üöÄ **–í—ã–≤–æ–¥:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `fs.promises` –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∏ **–Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ–≥–æ** –∫–æ–¥–∞.

---

[[002 Node.js|–ù–∞–∑–∞–¥]]
