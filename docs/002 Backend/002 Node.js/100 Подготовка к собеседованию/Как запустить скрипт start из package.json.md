---
title: Как запустить скрипт start из package.json
draft: false
tags:
  - "#NodeJS"
  - "#npm"
  - "#package.json"
  - "#scripts"
  - "#startup"
info:
  - https://docs.npmjs.com/cli/v9/commands/npm-run-script
  - https://docs.npmjs.com/cli/v9/configuring-npm/package-json#scripts
---

## Что такое скрипты в package.json

Файл `package.json` содержит раздел `scripts`, в котором определяются команды, которые можно выполнить с помощью npm. Скрипт `start` обычно используется для запуска приложения и является одним из предопределенных в npm скриптов.

## Запуск скрипта start

Для запуска скрипта `start` из файла `package.json`, используйте одну из следующих команд:

```bash
npm start
```

Или полную форму:

```bash
npm run start
```

> Обе команды эквивалентны, но `npm start` короче и используется чаще, поскольку `start` – один из предопределенных скриптов npm.

## Пример содержимого package.json

Вот пример `package.json` с определенным скриптом `start`:

```json
{
  "name": "my-node-app",
  "version": "1.0.0",
  "scripts": {
    "start": "node app.js",
    "dev": "nodemon app.js",
    "test": "jest"
  },
  "dependencies": {
    "express": "^4.18.2"
  }
}
```

В этом примере выполнение `npm start` запустит команду `node app.js`.

## Передача аргументов в скрипт start

Если вам нужно передать дополнительные аргументы в скрипт `start`, используйте двойное тире:

```bash
npm start -- --port=3001
```

Это передаст `--port=3001` в качестве аргумента скрипту, определенному в `start`.

## Предопределенные скрипты в npm

Помимо `start` в npm есть и другие предопределенные скрипты, которые можно вызывать сокращенной формой:

- `npm start` – запуск приложения
- `npm test` – запуск тестов
- `npm stop` – остановка приложения
- `npm restart` – перезапуск приложения (эквивалент последовательного выполнения `stop`, `start`)

Для всех остальных скриптов требуется использовать полную форму `npm run имя_скрипта`.

## Настройка переменных окружения при запуске

Переменные окружения можно настраивать при запуске скрипта:

```bash
NODE_ENV=production npm start
```

Или определить их внутри самого скрипта:

```json
{
  "scripts": {
    "start": "NODE_ENV=production node app.js"
  }
}
```

## Комбинирование скриптов

Вы можете комбинировать несколько команд в одном скрипте, используя операторы `&&` (последовательное выполнение) или `&` (параллельное выполнение):

```json
{
  "scripts": {
    "start": "npm run build && node dist/app.js",
    "dev": "concurrently \"npm run watch-ts\" \"npm run watch-node\""
  }
}
```

## Преимущества использования npm скриптов

- Единообразный способ запуска команд в проекте
- Скрипты документируют наиболее часто используемые команды
- Скрыть сложность запуска за простыми именами команд
- Доступ к локально установленным пакетам без необходимости указывать путь `./node_modules/.bin/`

---

[[002 Node.js|Назад]]
