---
title: –ß–µ–º –ø–æ—Ç–æ–∫–æ–≤–æ–µ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ª—É—á—à–µ –º–µ—Ç–æ–¥–∞ fs.readFile() –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–æ–ª—å—à–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏
draft: true
tags: NodeJS
info:
---
–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–æ–ª—å—à–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ –ø–æ—Ç–æ–∫–æ–≤–æ–µ —á—Ç–µ–Ω–∏–µ **(streams)** –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –ø–µ—Ä–µ–¥ `fs.readFile()`:

### üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è:

|**–ú–µ—Ç–æ–¥**|**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**|**–ü—Ä–æ–±–ª–µ–º—ã**|
|---|---|---|
|`fs.readFile()`|–ó–∞–≥—Ä—É–∂–∞–µ—Ç **–≤–µ—Å—å —Ñ–∞–π–ª** –≤ –ø–∞–º—è—Ç—å –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π|–í—ã—Å–æ–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–∞—Ö|
|**–ü–æ—Ç–æ–∫ (`fs.createReadStream()`)**|–ß–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª **—á–∞—Å—Ç—è–º–∏ (—á–∞–Ω–∫–∞–º–∏)** –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –∏—Ö –ø–æ –º–µ—Ä–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏|–ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ñ–∞–π–ª–∞–º–∏ **–ª—é–±–æ–π –≤–µ–ª–∏—á–∏–Ω—ã**|

---

### üîπ –ü–æ—á–µ–º—É –ø–æ—Ç–æ–∫–∏ –ª—É—á—à–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤?

1. **–≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏**
    
    - `fs.readFile()` –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤–µ—Å—å —Ñ–∞–π–ª –≤ **–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–º—è—Ç—å** (RAM), —á—Ç–æ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤.
    - –ü–æ—Ç–æ–∫–∏ —á–∏—Ç–∞—é—Ç —Ñ–∞–π–ª **–ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ**, –∑–∞–≥—Ä—É–∂–∞—è –≤ –ø–∞–º—è—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–±–æ–ª—å—à–∏–µ —á–∞—Å—Ç–∏ (–æ–±—ã—á–Ω–æ 64 KB –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).
2. **–ë–æ–ª–µ–µ –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
    
    - –ü–æ—Ç–æ–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç **–Ω–∞—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Ñ–∞–π–ª–∞ —Å—Ä–∞–∑—É**, –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å –µ–≥–æ –ø–æ–ª–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è.
    - –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ —Ñ–∞–π–ª–æ–≤ –ø–æ —Å–µ—Ç–∏ –∏–ª–∏ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –ª–æ–≥–æ–≤.
3. **–ù–µ—Ç —Ä–∏—Å–∫–∞ Out of Memory (OOM)**
    
    - –ï—Å–ª–∏ —Ñ–∞–π–ª –±–æ–ª—å—à–µ, —á–µ–º –¥–æ—Å—Ç—É–ø–Ω–∞—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å, `fs.readFile()` –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ **–∑–∞–≤–∏—Å–∞–Ω–∏—é** –∏–ª–∏ **–∫—Ä–∞—Ö—É –ø—Ä–æ—Ü–µ—Å—Å–∞**.
    - –ü–æ—Ç–æ–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞ –≤ –ø–∞–º—è—Ç–∏.

---

### üîπ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `fs.readFile()`

**(–ü–ª–æ—Ö–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤)**

js

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`const fs = require('fs');  fs.readFile('large-file.txt', 'utf8', (err, data) => {   if (err) {     console.error('Error reading file:', err);     return;   }   console.log('File content:', data); // –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤–µ—Å—å —Ñ–∞–π–ª –≤ –ø–∞–º—è—Ç—å });`

‚ùå –ï—Å–ª–∏ —Ñ–∞–π–ª **–æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π**, —ç—Ç–æ—Ç –∫–æ–¥ –º–æ–∂–µ—Ç **—É–ø–∞—Å—Ç—å** —Å –æ—à–∏–±–∫–æ–π –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø–∞–º—è—Ç–∏.

---

### üîπ –ü—Ä–∏–º–µ—Ä **–ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ** —á—Ç–µ–Ω–∏—è —Å `fs.createReadStream()`

**(–õ—É—á—à–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤)**

js

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`const fs = require('fs');  const stream = fs.createReadStream('large-file.txt', { encoding: 'utf8' });  stream.on('data', chunk => {   console.log('Received chunk:', chunk); // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ —á–∞—Å—Ç—è–º });  stream.on('end', () => {   console.log('File read completed'); });  stream.on('error', err => {   console.error('Error reading file:', err); });`

‚úÖ **–≠—Ç–æ—Ç –∫–æ–¥ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤–µ—Å—å —Ñ–∞–π–ª –≤ –ø–∞–º—è—Ç—å**, –∞ **—á–∏—Ç–∞–µ—Ç –µ–≥–æ —á–∞—Å—Ç—è–º–∏ (—á–∞–Ω–∫–∞–º–∏)**, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ **–Ω–∞–º–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ**.

---

### üîπ –ö–æ–≥–¥–∞ `fs.readFile()` –≤—Å–µ –∂–µ –ª—É—á—à–µ?

- –ï—Å–ª–∏ —Ñ–∞–π–ª **–Ω–µ–±–æ–ª—å—à–æ–π** (–¥–æ 10‚Äì20 –ú–ë) –∏ –Ω—É–∂–µ–Ω **–Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø** –∫–æ –≤—Å–µ–º—É —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É.
- –ï—Å–ª–∏ –Ω—É–∂–µ–Ω **–µ–¥–∏–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑** –¥–∞–Ω–Ω—ã—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä JSON-—Ñ–∞–π–ª.

**–í—ã–≤–æ–¥:**  
–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å **–±–æ–ª—å—à–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏** –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ø–æ—Ç–æ–∫–∏ (`fs.createReadStream()`)**, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å –ø–∞–º—è—Ç—å—é –∏ —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. üöÄ