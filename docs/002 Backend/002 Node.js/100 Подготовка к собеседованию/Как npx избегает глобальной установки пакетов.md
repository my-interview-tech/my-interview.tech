---
title: Как npx избегает глобальной установки пакетов
draft: false
tags:
  - "#NodeJS"
  - "#npm"
  - "#npx"
  - "#пакеты"
  - "#инструменты"
info:
  - "[Документация npx](https://docs.npmjs.com/cli/v9/commands/npx)"
  - "[Документация по npm](https://docs.npmjs.com/about-npm)"
  - "[Введение в npm и npx](https://nodejs.dev/learn/the-npx-nodejs-package-runner)"
---

**`npx`** — это утилита, которая поставляется вместе с **npm** (начиная с версии 5.2.0). Она позволяет запускать пакеты, не устанавливая их глобально на вашу систему, что помогает избежать множества потенциальных проблем, связанных с глобальными установками.

## Как npx избегает глобальной установки пакетов

### 1. Использование пакетов из локальных зависимостей

Если пакет уже установлен в вашем проекте как зависимость (например, в **node_modules**), **npx** будет использовать его локальную версию. Это избавляет от необходимости устанавливать пакет глобально.

**Пример:** Допустим, в вашем проекте установлен пакет **webpack**:

```bash
npm install --save-dev webpack
```

Вместо того чтобы устанавливать **webpack** глобально, вы можете запустить его через **npx**:

```bash
npx webpack
```

В этом случае **npx** использует локальную версию пакета из **node_modules** вашего проекта.

### 2. Автоматическая установка и запуск пакетов

Если нужный пакет не установлен в проекте, **npx** автоматически загрузит и выполнит его, не требуя от вас глобальной установки.

**Пример:** Если вы хотите использовать инструмент **create-react-app**, но он не установлен в вашем проекте или глобально:

```bash
npx create-react-app my-app
```

Это позволит **npx** загрузить и запустить последнюю версию **create-react-app** без необходимости устанавливать его глобально.

### 3. Избежание конфликтов версий

Поскольку **npx** всегда использует или загружает последнюю доступную версию пакета (если она не установлена локально), это помогает избежать проблем с устаревшими версиями глобальных пакетов. Вы всегда получаете самую актуальную версию инструмента без необходимости вручную обновлять глобальные пакеты.

### 4. Запуск одноразовых команд

**npx** идеально подходит для одноразовых команд, которые вам нужно запустить только один раз или очень редко, таких как генерация кода, создание новых проектов или тестирование библиотек. Это экономит время и дисковое пространство, так как вам не нужно поддерживать глобальные версии таких инструментов.

### 5. Использование пакетов с конкретной версией

**npx** позволяет указать конкретную версию пакета, которую вы хотите запустить, даже если эта версия не установлена в вашем проекте или глобально.

**Пример:** Чтобы использовать версию **create-react-app** 4.0.0:

```bash
npx create-react-app@4.0.0 my-app
```

Это позволяет вам точно указать нужную версию инструмента, не устанавливая её глобально.

## Как npx решает проблемы глобальных пакетов

### Проблемы с глобальными пакетами:

1. **Загрязнение глобального пространства**: Глобальная установка множества пакетов может привести к захламлению системы.
2. **Несовместимые версии**: Разные проекты могут требовать разные версии одного и того же инструмента.
3. **Необходимость в правах администратора**: Глобальная установка часто требует повышенных привилегий.
4. **Сложности при работе в команде**: Необходимость синхронизировать глобальные зависимости между всеми членами команды.

### Как npx решает эти проблемы:

1. **Временная установка**: npx устанавливает пакет временно, только для выполнения команды.
2. **Изоляция версий**: Каждый проект может использовать свою версию инструмента.
3. **Нет необходимости в глобальных правах**: Пакеты устанавливаются в пользовательский каталог кэша.
4. **Единообразие в команде**: Все члены команды используют одинаковые версии инструментов.

## Заключение

**npx** упрощает использование инструментов и пакетов, позволяя запускать их без глобальной установки. Это удобно для одноразовых задач, тестирования и работы с актуальными версиями пакетов, а также для избегания конфликтов с глобальными установками.

---

[[002 Node.js|Назад]]
