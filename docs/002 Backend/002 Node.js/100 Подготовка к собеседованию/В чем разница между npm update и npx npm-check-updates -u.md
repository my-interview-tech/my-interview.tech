---
title: В чем разница между npm update и npx npm-check-updates -u
draft: true
tags: NodeJS
info:
---
Разница между командами **`npm update`** и **`npx npm-check-updates -u`** заключается в том, как они обновляют зависимости и какие версии пакетов они устанавливают:

### 1. **`npm update`**

- **Что делает:** Команда **`npm update`** обновляет все зависимости проекта, но только до версий, которые соответствуют диапазону версий, указанному в **`package.json`**.
    
- **Как работает:**
    
    - Если в **`package.json`** указана версия пакета с ограничениями (например, `^1.0.0`), то **`npm update`** обновит пакет до последней доступной минорной или патч-версии, но не до мажорной версии.
    - Если диапазон версии в **`package.json`** позволяет, команда обновит пакеты до последних совместимых версий.
    
    Например, если в **`package.json`** указано:
    
    json
    
    КопироватьРедактировать
    
    `"lodash": "^4.17.0"`
    
    То **`npm update`** установит версию `lodash` до последней минорной или патч-версии, например, `4.17.21`, но не обновит её до версии `5.x.x`.
    
- **Когда использовать:** Подходит для поддержания совместимости с указанными диапазонами версий, не нарушая их. То есть для **обновления в пределах указанных версий**.
    

### 2. **`npx npm-check-updates -u`**

- **Что делает:** Команда **`npx npm-check-updates -u`** обновляет зависимости до **самых последних версий**, игнорируя ограничения в **`package.json`**.
    
- **Как работает:**
    
    - **`npm-check-updates` (ncu)** сканирует ваш **`package.json`** и **обновляет диапазоны версий** для всех зависимостей до самых последних версий, включая мажорные обновления.
    - Например, если у вас в **`package.json`** указана версия `^4.17.0` для `lodash`, после выполнения **`npx npm-check-updates -u`** версия будет обновлена до самой последней версии, например, `5.x.x`, даже если это нарушит совместимость с вашим кодом.
- **Когда использовать:** Подходит, если вы хотите **обновить все зависимости до последних доступных версий**, включая мажорные обновления, и **игнорировать текущие ограничения версий** в **`package.json`**.
    

### Пример:

#### Допустим, у вас в **`package.json`** указана зависимость:

json

КопироватьРедактировать

`"lodash": "^4.17.0"`

- **`npm update`** обновит `lodash` до самой последней версии 4.x.x (например, до `4.17.21`), так как в **`package.json`** указано ограничение `^4.17.0`.
- **`npx npm-check-updates -u`** обновит `lodash` до самой последней доступной версии (например, до `5.x.x`), игнорируя текущее ограничение в **`package.json`**.

### Заключение:

- **`npm update`** обновляет пакеты **в пределах указанных диапазонов версий** в **`package.json`**.
- **`npx npm-check-updates -u`** обновляет пакеты до **самых последних версий**, **игнорируя диапазоны версий** в **`package.json`**.