---
title: Что произошло с пакетом left-pad и какие выводы были сделаны из этого инцидента?
draft: false
tags:
  - NodeJS
  - left-pad
  - Yarn
  - npm
info:
  - https://habr.com/en/articles/280039/
---
В **2016 году** разработчик **Азер Кочулу** удалил свой пакет `left-pad` (всего **11 строк кода**) из **npm**, что привело к сбоям множества популярных проектов, включая **Babel, React, Node.js** и другие.

```js
module.exports = leftpad;

function leftpad (str, len, ch) {  
	str = String(str);  
	
	var i = -1;  
	
	if (!ch && ch !== 0) ch = ' ';  
	len = len - str.length;  
	
	while (++i < len) {    
		str = ch + str;  
	}  
	
	return str;
}
```

**Причины удаления:**
- Азер удалил все свои пакеты в знак протеста против спора с компанией **Kik**, которая требовала переименовать его другой пакет с таким же названием.
- npm удалил этот пакет без его согласия, после чего он удалил все свои проекты, включая `left-pad`.

**Последствия инцидента:**

1. **Сломались тысячи проектов** – многие популярные библиотеки зависели от `left-pad`.
2. **npm ввел защитные меры:**
    - Теперь **нельзя просто удалить** популярный пакет, если он широко используется.
    - Разработчикам нужно запрашивать удаление у npm, если у пакета много загрузок.
3. **Переосмысление зависимости от маленьких пакетов** – сообщество осознало, что использование множества небольших зависимостей может быть рискованным.
4. **Появление альтернативных решений, таких как `yarn`** – Facebook представил **Yarn**, который использует **локальный кэш** и блок-файлы для предотвращения подобных инцидентов.


