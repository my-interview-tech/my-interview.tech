---
title: Чем отличаются dependencies и devDependencies
draft: false
tags:
  - "#NodeJS"
  - "#npm"
  - "#package.json"
  - "#dependencies"
  - "#разработка"
info:
  - https://docs.npmjs.com/specifying-dependencies-and-devdependencies-in-a-package-json-file
  - https://habr.com/ru/companies/domclick/articles/510662/
---

В **`package.json`** в Node.js существует два основных типа зависимостей:

- **`dependencies`** - зависимости, необходимые для работы приложения
- **`devDependencies`** - зависимости, необходимые только для разработки

## dependencies (зависимости для продакшн-среды)

**dependencies** - это пакеты, которые необходимы для работы вашего приложения в **продакшн-среде** (на сервере или в конечной среде).

### Когда используются:

- Эти зависимости нужны, чтобы приложение функционировало в рабочем окружении
- Любые библиотеки, фреймворки и пакеты, необходимые конечным пользователям
- Код, который будет использоваться в реальной работе приложения

### Как устанавливаются:

```bash
npm install <пакет>
# или
npm install <пакет> --save
```

### Пример в package.json:

```json
"dependencies": {
  "express": "^4.17.1",
  "mongoose": "^5.10.9",
  "react": "^17.0.2",
  "axios": "^0.21.1"
}
```

## devDependencies (зависимости для разработки)

**devDependencies** - это пакеты, которые необходимы только для **разработки** и **тестирования** вашего приложения, но не нужны для его работы в продакшн-среде.

### Когда используются:

- Эти зависимости нужны только в процессе разработки
- Инструменты сборки, тестирования, линтинга, форматирования
- Пакеты, которые используются только для разработки и не попадают в финальную сборку

### Как устанавливаются:

```bash
npm install <пакет> --save-dev
# или
npm install <пакет> -D
```

### Пример в package.json:

```json
"devDependencies": {
  "webpack": "^5.0.0",
  "babel-cli": "^6.26.0",
  "eslint": "^7.0.0",
  "jest": "^27.0.0",
  "nodemon": "^2.0.7"
}
```

## Ключевые различия

| **Особенность**          | **dependencies**                                     | **devDependencies**                               |
| ------------------------ | ---------------------------------------------------- | ------------------------------------------------- |
| **Назначение**           | Зависимости для работы приложения в продакшн-среде   | Зависимости для разработки (тестирование, сборка) |
| **Пример пакетов**       | Express, Mongoose, Axios, React                      | Webpack, Babel, ESLint, Mocha                     |
| **Команда установки**    | `npm install <пакет>`                                | `npm install --save-dev <пакет>`                  |
| **Установка в продакшн** | Устанавливаются на сервере при развертывании проекта | Не устанавливаются в продакшн-среде               |

## Практическое значение разделения

### 1. Оптимизация размера проекта в продакшн-среде

```bash
# Устанавливает только dependencies, игнорируя devDependencies
npm install --production
```

### 2. Упрощение CI/CD процессов

- В процессе непрерывной интеграции можно установить все зависимости для тестирования
- В продакшн-окружении устанавливаются только dependencies для экономии места и ресурсов

### 3. Улучшение безопасности

- Минимизация количества пакетов в продакшн-среде снижает риск уязвимостей
- Разделение зависимостей упрощает аудит безопасности

## Важные моменты при выборе типа зависимости

1. **Транспиляторы и компиляторы** (Babel, TypeScript) обычно относятся к devDependencies, поскольку используются только на этапе сборки

2. **Фреймворки и библиотеки** (React, Express, Angular) должны находиться в dependencies, так как без них приложение не будет работать

3. **Пакеты для тестирования** (Jest, Mocha, Chai) всегда относятся к devDependencies

4. **Инструменты разработки** (ESLint, Prettier, Webpack) относятся к devDependencies

5. **CLI-инструменты**, которые используются только разработчиками, следует устанавливать в devDependencies

Правильное разделение зависимостей на dependencies и devDependencies является хорошей практикой, которая улучшает организацию проекта и оптимизирует работу приложения в производственной среде.

---

[[003 JSCore|Назад]]
