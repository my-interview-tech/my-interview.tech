---
title: Чем отличается выполнение кода через .editor от ввода многострочного выражения без него
draft: false
tags:
  - "#NodeJS"
  - "#REPL"
  - "#editor"
  - "#CLI"
  - "#интерактивность"
  - "#терминал"
info:
  - "[Документация по REPL в Node.js](https://nodejs.org/api/repl.html)"
  - "[Специальные команды REPL](https://nodejs.org/api/repl.html#commands-and-special-keys)"
  - "[Руководство по использованию REPL](https://nodejs.org/en/docs/guides/getting-started-guide/)"
---

В **Node.js REPL** использование команды **`.editor`** отличается от прямого ввода многострочного выражения тем, как выполняется код и каким образом он вводится.

### 1. **Использование `.editor`**

Когда вы вводите команду `.editor` в REPL, она открывает встроенный текстовый редактор (обычно это редактор, настроенный в вашей операционной системе, например, `vi`, `vim` или `nano`).

- После ввода команды **`.editor`** REPL переходит в редактор, где вы можете вводить многострочный код.
- Когда вы завершаете редактирование (выход из редактора, обычно с помощью команды `Ctrl + X` или `:wq` для `vim`), код будет автоматически отправлен в REPL для выполнения.

### Пример использования `.editor`:

1. Введите команду **`.editor`**:

   ```bash
   > .editor
   ```

2. Откроется текстовый редактор, в котором можно вводить многострочный код. Например:

   ```javascript
   const a = 10
   const b = 20
   console.log(a + b)
   ```

3. После завершения редактирования сохраните файл и выйдите из редактора. Код будет выполнен в REPL, и результат будет выведен:

   ```bash
   30
   ```

### 2. **Многострочные выражения без `.editor`**

Когда вы вводите многострочный код в REPL без использования команды **`.editor`**, REPL пытается автоматически интерпретировать код, переходя на новую строку при необходимости, и завершает выполнение кода, когда он считается завершённым.

Однако, это может вызвать сложности, если код слишком длинный или сложный, особенно если он не является полноценным выражением (например, это может быть неполная функция или конструкция). Вы не получите доступ к редактору, и весь код должен быть введен в текущей строке или строках без использования редактора.

Пример:

```javascript
> const a = 10;
undefined
> const b = 20;
undefined
> console.log(a + b)
30
```

Если код состоит из нескольких строк, REPL будет автоматически "ожидать" следующей строки, пока не получит завершённое выражение:

```javascript
> if (a > 5) {
...   console.log("Hello");
... }
Hello
```

### Основные различия:

1. **Редактор**:

   - Команда **`.editor`** открывает редактор, что позволяет более удобно и читабельно вводить многострочные выражения, а также редактировать их до выполнения.
   - Код выполняется только после выхода из редактора.

2. **Без редактора**:

   - Вы можете вводить многострочные выражения в REPL, не переходя в редактор, но вам нужно вручную завершить выражение.
   - Это может быть удобным для простых многословных выражений, но неудобно для более сложных структур.

### Когда использовать `.editor`:

- Когда вам нужно быстро ввести и отредактировать многострочный код, особенно если это сложные выражения или функции.
- Когда хотите избежать ошибок, связанных с неправильно завершёнными выражениями.

### Когда не использовать `.editor`:

- Когда вам нужно быстро ввести короткий код или небольшие выражения, не требующие сложного редактирования.

---

[[002 Node.js|Назад]]
