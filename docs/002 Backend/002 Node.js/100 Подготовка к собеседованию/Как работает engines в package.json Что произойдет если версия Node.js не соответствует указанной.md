---
title: Как работает engines в package.json Что произойдет если версия Node.js не соответствует указанной
draft: true
tags: NodeJS
info:
---
Поле **`engines`** в файле **`package.json`** позволяет указать, какие версии Node.js (или других окружений) требуются для вашего проекта. Это помогает гарантировать, что приложение будет работать в нужной версии Node.js, так как разные версии Node.js могут поддерживать различные API и функционал.

Пример использования:

json

КопироватьРедактировать

`{   "name": "my-project",   "version": "1.0.0",   "engines": {     "node": ">=14.0.0"   } }`

Здесь указано, что проект требует **Node.js** версии 14.0.0 или выше.

### Как работает поле `engines`?

- **Синтаксис**: В **`engines`** можно указать минимальные и максимальные версии Node.js, поддерживаемые проектом.
    
    - Например, `">=14.0.0"` указывает, что проект поддерживает версии Node.js начиная с 14.0.0.
    - Также можно использовать диапазоны, например `"node": ">=14.0.0 <16.0.0"`.
- **Поддержка других платформ**: Помимо **Node.js**, поле **`engines`** можно использовать для указания версий других платформ, например, **npm**:
    
    json
    
    КопироватьРедактировать
    
    `"engines": {   "node": ">=14.0.0",   "npm": ">=6.0.0" }`
    

### Что произойдет, если версия Node.js не соответствует указанной?

- **Предупреждение**: Если вы пытаетесь установить пакет, но ваша версия Node.js не соответствует указанной в **`engines`**, то **npm** не будет блокировать установку пакета, но покажет **предупреждение**:
    
    kotlin
    
    КопироватьРедактировать
    
    `npm WARN my-project@1.0.0 No repository field. npm WARN my-project@1.0.0 The engine "node" is incompatible with this module. Expected version ">=14.0.0".`
    
- **npm** не запрещает установку, но предупредит пользователя о несовпадении версий, и установка продолжится.
    
- **Зависимость от менеджеров пакетов**:
    
    - **Yarn**: В отличие от **npm**, **Yarn** блокирует установку, если версия Node.js не соответствует требуемой. То есть если версия Node.js не соответствует требованиям в **`engines`**, установка будет остановлена с ошибкой.

### Как проверить версию Node.js?

Вы можете легко проверить текущую версию Node.js с помощью команды:

bash

КопироватьРедактировать

`node -v`

Если ваша версия не соответствует требованиям, вы можете использовать **`nvm`** (Node Version Manager) для установки и переключения между версиями Node.js.

### Пример с ошибкой:

Если вы установили проект, но ваша версия Node.js ниже минимально требуемой, **npm** покажет предупреждение, но установит зависимости:

bash

КопироватьРедактировать

`npm WARN my-project@1.0.0 The engine "node" is incompatible with this module. Expected version ">=14.0.0".`

Если проект не совместим с вашей версией Node.js, вы можете столкнуться с проблемами при запуске, например, с ошибками выполнения или недоступностью некоторых функций.

### Заключение:

Поле **`engines`** в **`package.json`** используется для указания минимальной или максимальной версии Node.js (или других платформ), на которых должен работать проект. Если версия Node.js не соответствует указанной, то в **npm** будет выведено предупреждение, но установка не будет блокироваться. В случае с **Yarn** это может вызвать ошибку и остановить установку.