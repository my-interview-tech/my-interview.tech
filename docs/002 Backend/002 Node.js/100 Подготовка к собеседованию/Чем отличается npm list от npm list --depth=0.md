---
title: Чем отличается npm list от npm list --depth=0
draft: false
tags:
  - "#NodeJS"
  - "#npm"
  - "#CLI"
  - "#зависимости"
  - "#package.json"
  - "#управление-пакетами"
info:
  - "[Документация npm list](https://docs.npmjs.com/cli/v9/commands/npm-ls)"
  - "[Руководство по управлению пакетами в npm](https://docs.npmjs.com/cli/v9/using-npm/dependency-resolution)"
  - "[Лучшие практики управления зависимостями](https://nodejs.org/en/docs/guides/)"
---

Команды **`npm list`** и **`npm list --depth=0`** обе используются для вывода списка установленных пакетов в проекте, но с некоторыми ключевыми отличиями в объеме выводимой информации.

### 1. **`npm list`**

Команда **`npm list`** выводит **полное дерево зависимостей** вашего проекта, включая все **прямые и вложенные (транзитивные) зависимости**.

- Если один пакет зависит от других пакетов, команда `npm list` покажет эти зависимости на всех уровнях.
- Это позволяет вам увидеть, какие пакеты установлены, а также какие пакеты эти пакеты используют.

Пример вывода для команды `npm list`:

```bash
├── lodash@4.17.21
└── express@4.17.1
    ├── body-parser@1.19.0
    ├── cookie-parser@1.4.5
    └── ...
```

В этом случае:

- `lodash` — это прямое зависимость.
- `express` — это также прямое зависимость, и она имеет свои вложенные зависимости (`body-parser`, `cookie-parser` и другие).

### 2. **`npm list --depth=0`**

Команда **`npm list --depth=0`** ограничивает вывод только **первичными зависимостями** проекта, то есть только теми пакетами, которые непосредственно указаны в вашем файле `package.json` в секциях `dependencies` или `devDependencies`.

- В отличие от `npm list`, этот вариант **не показывает транзитивные зависимости** (пакеты, которые установлены как зависимости других пакетов).
- Это позволяет быстро увидеть только те пакеты, которые вы установили для своего проекта, без углубления в их внутренние зависимости.

Пример вывода для команды `npm list --depth=0`:

```bash
├── lodash@4.17.21
└── express@4.17.1
```

### Основные различия:

| **Команда**          | **Описание**                                                                                               |
| -------------------- | ---------------------------------------------------------------------------------------------------------- |
| `npm list`           | Показывает **все зависимости**, включая прямые и вложенные (транзитивные). Это полное дерево зависимостей. |
| `npm list --depth=0` | Показывает только **прямые зависимости** проекта, без вложенных зависимостей.                              |

### Когда использовать:

- **`npm list`** полезно, если вам нужно увидеть полное дерево зависимостей, включая зависимости, которые установлены через другие пакеты.
- **`npm list --depth=0`** удобно использовать для быстрого обзора только тех пакетов, которые вы напрямую установили в проект.

---

[[002 Node.js|Назад]]
