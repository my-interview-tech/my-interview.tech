---
title: Как обработать аргумент вида --port=3000 без сторонних библиотек
draft: false
tags:
  - "#NodeJS"
  - "#командная-строка"
  - "#аргументы"
  - "#process"
  - "#JavaScript"
info:
  - "[Документация Node.js по объекту process](https://nodejs.org/api/process.html#processargv)"
  - "[Руководство по работе с аргументами командной строки в Node.js](https://nodejs.org/en/knowledge/command-line/how-to-parse-command-line-arguments/)"
  - "[Официальная документация JavaScript](https://developer.mozilla.org/ru/docs/Web/JavaScript)"
---

Если вы хотите обработать аргумент вида `--port=3000` без сторонних библиотек, можно воспользоваться стандартным **`process.argv`** в Node.js. Для этого нужно вручную разобрать строку аргументов и извлечь необходимые значения.

Вот как это можно сделать:

### Пример:

```javascript
// example.js
const args = process.argv.slice(2) // Пропускаем первые два элемента (путь к node и скрипту)

// Перебираем аргументы и обрабатываем
let port

args.forEach((arg) => {
  const [key, value] = arg.split("=")

  if (key === "--port") {
    port = value
  }
})

if (port) {
  console.log(`Server will run on port: ${port}`)
} else {
  console.log("Port argument not provided")
}
```

### Объяснение:

1. **`process.argv.slice(2)`** — извлекает все аргументы, переданные скрипту, начиная с третьего элемента (после пути к Node.js и скрипту).
2. **`forEach(arg => {...})`** — перебирает каждый аргумент.
3. **`arg.split('=')`** — разделяет аргумент на две части по символу `=`: ключ и значение.
4. Проверяем, если ключ — это `--port`, то сохраняем значение в переменную **`port`**.

### Запуск:

```bash
node example.js --port=3000
```

Вывод:

```
Server will run on port: 3000
```

### Как обработать несколько параметров:

Если нужно обработать больше параметров, просто добавьте дополнительные проверки в цикл:

```javascript
args.forEach((arg) => {
  const [key, value] = arg.split("=")

  if (key === "--port") {
    port = value
  }
  // Обработка других аргументов
})
```

### Заключение:

Этот способ позволяет вам обрабатывать аргументы командной строки, такие как `--port=3000`, без использования сторонних библиотек, полагаясь исключительно на стандартный объект **`process.argv`** в Node.js.

---

[[002 Node.js|Назад]]
