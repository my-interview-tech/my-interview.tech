---
title: Что такое package.json и package-lock.json
draft: true
tags: NodeJS
info:
---
В **Node.js** два ключевых файла управляют зависимостями и конфигурацией проекта: **`package.json`** и **`package-lock.json`**. Оба этих файла имеют важное значение, но выполняют разные функции.

### 1. **`package.json`**

**`package.json`** — это основной файл конфигурации вашего проекта в **Node.js**, который содержит метаинформацию о проекте, а также список зависимостей, которые должны быть установлены для его работы.

#### Основные свойства файла `package.json`:

- **`name`** — имя проекта.
- **`version`** — версия проекта.
- **`description`** — описание проекта.
- **`main`** — главный файл, который будет исполняться при запуске проекта (например, `index.js`).
- **`scripts`** — скрипты, которые можно запускать через команду `npm run`. Например, `npm run start` или `npm run test`.
- **`dependencies`** — список зависимостей проекта, которые требуются для его работы.
- **`devDependencies`** — список зависимостей, нужных только для разработки (например, тестовые фреймворки, линтеры и сборщики).
- **`engines`** — указание поддерживаемых версий Node.js или других зависимостей.
- **`author`** и **`license`** — информация о разработчике и лицензии проекта.

Пример файла `package.json`:

json

КопироватьРедактировать

`{   "name": "my-project",   "version": "1.0.0",   "description": "My Node.js project",   "main": "index.js",   "scripts": {     "start": "node index.js",     "test": "jest"   },   "dependencies": {     "express": "^4.17.1",     "lodash": "^4.17.21"   },   "devDependencies": {     "jest": "^26.6.3"   } }`

### 2. **`package-lock.json`**

**`package-lock.json`** — это автоматически сгенерированный файл, который фиксирует точные версии всех зависимостей, включая их вложенные зависимости, используемые в проекте. Этот файл создается и обновляется автоматически при установке или изменении зависимостей с помощью команды `npm install`.

#### Основные задачи `package-lock.json`:

- **Зафиксировать точные версии пакетов**: В отличие от `package.json`, который может использовать диапазоны версий (например, `^4.17.1`), `package-lock.json` фиксирует конкретные версии всех пакетов и их зависимостей, что позволяет всем участникам проекта использовать одинаковые версии пакетов.
- **Повышение надежности и согласованности**: Благодаря этому файлу каждый раз, когда кто-то выполняет `npm install`, он будет получать точно такие же версии пакетов, как и остальные разработчики в проекте.
- **Ускорение установки зависимостей**: `package-lock.json` содержит оптимизированный список зависимостей, что ускоряет процесс установки пакетов.

Пример файла `package-lock.json`:

json

КопироватьРедактировать

`{   "name": "my-project",   "version": "1.0.0",   "lockfileVersion": 1,   "dependencies": {     "express": {       "version": "4.17.1",       "resolved": "https://registry.npmjs.org/express/-/express-4.17.1.tgz",       "integrity": "sha512-xF5DlK2OeVkM35mO09Akl5Z55fmr1C9cQgNJ9ugQI2WoIMTFLM9HJ31UwIDYYg6czwRO5w2a0mJ8Se+3cnEmZw==",       "dev": false     },     "lodash": {       "version": "4.17.21",       "resolved": "https://registry.npmjs.org/lodash/-/lodash-4.17.21.tgz",       "integrity": "sha512-Kt1YBlb9g7+s6BhWZJh+ojB8kIMFoeLMRuxltDWZg7KnOo1TCAwHgF9Vp0hbks+TcBhMJvHp6fF6qplHpGcR0g==",       "dev": false     }   } }`

### Основные различия между **`package.json`** и **`package-lock.json`**:

|**Характеристика**|**`package.json`**|**`package-lock.json`**|
|---|---|---|
|**Что содержит**|Информацию о проекте и его зависимостях (диапазоны версий).|Точные версии зависимостей и их вложенных зависимостей.|
|**Может ли изменяться вручную**|Да, вы можете вручную редактировать файл.|Нет, файл генерируется и изменяется автоматически.|
|**Цель**|Описание проекта и его зависимостей (для установки).|Фиксация точных версий зависимостей для согласованности между установками.|
|**Что происходит при установке зависимостей**|Устанавливает зависимости, указанные в `dependencies` и `devDependencies`.|Обновляется с точными версиями пакетов, чтобы синхронизировать все установки.|

### Когда использовать каждый файл:

- **`package.json`**: Основной файл для конфигурации проекта, который должен быть в репозитории. Он описывает зависимости, скрипты и другие настройки.
- **`package-lock.json`**: Этот файл автоматически создается и должен быть добавлен в репозиторий. Он гарантирует, что все участники проекта будут работать с одинаковыми версиями зависимостей, обеспечивая стабильность проекта.

### Заключение:

- **`package.json`** определяет, что нужно для работы вашего проекта (что он делает, какие пакеты нужны, какие скрипты использовать).
- **`package-lock.json`** фиксирует точные версии зависимостей, чтобы обеспечить одинаковые установки для всех участников проекта.

Оба файла необходимы для эффективного управления зависимостями в Node.js-проектах.