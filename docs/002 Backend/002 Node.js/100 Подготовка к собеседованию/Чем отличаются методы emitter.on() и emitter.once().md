---
title: Чем отличаются методы emitter.on() и emitter.once()
draft: true
tags: NodeJS
info:
---
Методы `emitter.on()` и `emitter.once()` в Node.js используются для подписки на события, но имеют принципиальное отличие в том, сколько раз будет вызван обработчик события.

### 1. **`emitter.on(event, listener)`**

- **Назначение**: Подписывает обработчик события, который будет вызываться каждый раз, когда событие с данным именем происходит.
- **Особенность**: Обработчик будет вызываться **неограниченное количество раз**.

#### Пример:

javascript

КопироватьРедактировать

`const EventEmitter = require('events'); const emitter = new EventEmitter();  emitter.on('event', () => {   console.log('Событие произошло'); });  emitter.emit('event'); // Событие произошло emitter.emit('event'); // Событие произошло`

Обработчик будет вызываться каждый раз при генерации события `event`.

### 2. **`emitter.once(event, listener)`**

- **Назначение**: Подписывает обработчик события, который будет вызван **только один раз**, а затем автоматически удаляется.
- **Особенность**: Обработчик вызывается **один раз**, и после этого он удаляется и больше не реагирует на событие.

#### Пример:

javascript

КопироватьРедактировать

`const EventEmitter = require('events'); const emitter = new EventEmitter();  emitter.once('event', () => {   console.log('Событие произошло один раз'); });  emitter.emit('event'); // Событие произошло один раз emitter.emit('event'); // Ничего не происходит`

После первого вызова события, обработчик больше не сработает, так как он был удалён.

### Ключевые различия:

- `on()` слушает событие **непрерывно**, каждый раз при возникновении события.
- `once()` слушает событие **один раз**, а затем удаляет обработчик, не реагируя на последующие вызовы события.

Эти методы дают возможность гибко контролировать, сколько раз обработчик должен срабатывать для конкретного события.