---
title: Что такое EventEmitter Как создать его экземпляр
draft: true
tags: NodeJS
info:
---
`EventEmitter` — это встроенный класс в Node.js, который используется для обработки событий и подписки на них. Он позволяет объектам генерировать и слушать события, а также передавать данные с событиями. Это основной механизм для асинхронного программирования в Node.js, особенно в таких модулях, как HTTP, файловая система и потоки.

### Основные принципы работы с `EventEmitter`:

1. **Создание событий**: Когда происходит какое-то событие, объект `EventEmitter` генерирует его, и все подписчики на это событие получают уведомление.
2. **Подписка на события**: Вы можете подписываться на события с помощью метода `.on()`.
3. **Выполнение при возникновении события**: Когда событие возникает, вызывается соответствующий обработчик.

### Создание экземпляра `EventEmitter`:

Чтобы создать экземпляр `EventEmitter`, нужно подключить модуль `events` и создать новый объект этого класса.

### Пример:

javascript

КопироватьРедактировать

`const EventEmitter = require('events');  // Создаём экземпляр EventEmitter const myEmitter = new EventEmitter();  // Подписываемся на событие myEmitter.on('event', () => {   console.log('Событие произошло!'); });  // Генерируем событие myEmitter.emit('event');`

### Важные методы `EventEmitter`:

- **.on(event, listener)** — добавляет слушатель для события. Слушатель будет вызван каждый раз, когда событие будет эмитировано.
- **.emit(event, [...args])** — генерирует (вызывает) событие и передаёт ему аргументы, которые могут быть использованы обработчиками.
- **.once(event, listener)** — добавляет обработчик, который сработает только один раз при возникновении события, а затем удаляется.
- **.removeListener(event, listener)** — удаляет конкретный слушатель для события.
- **.removeAllListeners([event])** — удаляет все слушатели для указанного события (или всех событий, если не указано конкретное).

### Пример использования:

javascript

КопироватьРедактировать

``const EventEmitter = require('events'); const myEmitter = new EventEmitter();  // Подписка на событие 'greet' myEmitter.on('greet', (name) => {   console.log(`Привет, ${name}!`); });  // Генерация события с аргументом myEmitter.emit('greet', 'Андрей');``

В этом примере, когда вызывается `emit('greet', 'Андрей')`, будет выведено:

КопироватьРедактировать

`Привет, Андрей!`

Таким образом, `EventEmitter` позволяет реализовать систему событий и асинхронно обрабатывать их.