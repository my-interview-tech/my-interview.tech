---
title: Что такое промисы в JavaScript
draft: false
tags:
  - "#JavaScript"
  - "#Promise"
  - "#async"
  - "#NodeJS"
  - "#интервью"
info:
  - https://habr.com/ru/articles/273591/
  - https://learn.javascript.ru/promise-basics
---

**Промис (Promise)** — это объект для работы с асинхронными операциями в JavaScript. Он позволяет писать асинхронный код, который выглядит как синхронный, и удобно обрабатывать успех или ошибку.

### Состояния промиса

Промис может находиться в трёх состояниях:

- **pending** (ожидание) - начальное состояние, операция не завершена
- **fulfilled** (выполнен) - операция успешно завершена
- **rejected** (отклонён) - операция завершена с ошибкой

### Создание промиса

```javascript
const promise = new Promise((resolve, reject) => {
  // Асинхронная операция
  setTimeout(() => {
    const success = true

    if (success) {
      resolve("Результат операции!") // Успешное выполнение
    } else {
      reject(new Error("Что-то пошло не так")) // Ошибка
    }
  }, 1000)
})
```

### Использование промисов

```javascript
promise
  .then((result) => {
    console.log(result) // "Результат операции!"
    return "Новое значение"
  })
  .then((newResult) => {
    console.log(newResult) // "Новое значение"
  })
  .catch((error) => {
    console.error(error) // Выполнится при ошибке на любом этапе
  })
  .finally(() => {
    console.log("Выполнится в любом случае") // Очистка ресурсов
  })
```

### Методы класса Promise

- **Promise.all()** - ожидает выполнения всех промисов в массиве
- **Promise.race()** - ожидает выполнения самого быстрого промиса
- **Promise.resolve()** - создает уже разрешенный промис
- **Promise.reject()** - создает уже отклоненный промис
- **Promise.allSettled()** - ожидает завершения всех промисов (ES2020)
- **Promise.any()** - ожидает выполнения хотя бы одного промиса (ES2021)

### Преимущества промисов перед callback-функциями:

1. Улучшенная читаемость кода (избегание "callback hell")
2. Более удобная обработка ошибок через цепочку .catch()
3. Возможность строить цепочки асинхронных операций
4. Стандартизированный подход к асинхронному коду

В Node.js промисы стали стандартным механизмом для работы с асинхронными API, многие модули имеют промис-версии (например, fs.promises).

---

[[003 JSCore|Назад]]
